package sort;

import java.awt.event.ActionEvent; 
import java.awt.event.ActionListener; 
import javax.swing.JOptionPane; 
import javax.swing.table.DefaultTableModel; 
import java.util.Stack;

public class Librarian extends javax.swing.JFrame { 
    private Stack<Books> bookStack; 
    private int numberOfBooks; 
    private int booksAdded = 0; 

    public Librarian() { 
        initComponents(); 
        initializeStack(); 
        updateTable(); 
        setupStackButtons();
    } 

    private void initializeStack() { 
        numberOfBooks = Integer.parseInt(JOptionPane.showInputDialog(this, "How many books would you like to enter?", "Input Book Quantity", JOptionPane.PLAIN_MESSAGE)); 
        bookStack = new Stack<>();
    } 

    private void setupStackButtons() {
        btn_Push.addActionListener(new ActionListener() { 
            @Override 
            public void actionPerformed(ActionEvent e) { 
                if (booksAdded < numberOfBooks) { 
                    String title = txt_title.getText(); 
                    String ISBN = txt_ISBN.getText(); 
                    String author = txt_Author.getText(); 
                    String genre = txt_Genre.getText(); 
                    Books book = new Books(title, ISBN, author, genre);
                    bookStack.push(book); // Push the book onto the stack
                    booksAdded++; 
                    jLabel2.setText(String.valueOf(booksAdded)); 
                    clearInputs();
                    updateTable(); 
                } else { 
                    JOptionPane.showMessageDialog(null, "You've reached the limit of " + numberOfBooks + " books.", "Error: Limit Reached", JOptionPane.WARNING_MESSAGE); 
                } 
            } 
        });

        btn_Pop.addActionListener(new ActionListener() { 
            @Override 
            public void actionPerformed(ActionEvent e) { 
                if (!bookStack.isEmpty()) {
                    bookStack.pop(); // Pop the book from the stack
                    booksAdded--; 
                    jLabel2.setText(String.valueOf(booksAdded)); 
                    updateTable(); 
                } else { 
                    JOptionPane.showMessageDialog(null, "No books to pop.", "Error: Stack Empty", JOptionPane.WARNING_MESSAGE); 
                } 
            } 
        });
    }

    private void clearInputs() {
        txt_title.setText(""); 
        txt_ISBN.setText(""); 
        txt_Author.setText(""); 
        txt_Genre.setText(""); 
    }

    private void updateTable() { 
        DefaultTableModel model = (DefaultTableModel) tbl_displayTable.getModel(); 
        model.setRowCount(0); 
        for (Books book : bookStack) {
            model.addRow(new Object[]{book.getISBN(), book.getTitle(), book.getAuthor(), book.getGenre()}); 
        } 
    } 

    @SuppressWarnings("unchecked") 
    private void initComponents() { 
        jPanel1 = new javax.swing.JPanel(); 
        lbl_bookTitle = new javax.swing.JLabel(); 
        jScrollPane1 = new javax.swing.JScrollPane(); 
        tbl_displayTable = new javax.swing.JTable(); 
        txt_title = new javax.swing.JTextField(); 
        lbl_ISBN = new javax.swing.JLabel(); 
        txt_ISBN = new javax.swing.JTextField(); 
        lbl_Author = new javax.swing.JLabel(); 
        txt_Author = new javax.swing.JTextField(); 
        lbl_Genre = new javax.swing.JLabel(); 
        txt_Genre = new javax.swing.JTextField(); 
        btn_Search = new javax.swing.JButton(); 
        btn_Sort = new javax.swing.JButton(); 
        btn_Undo = new javax.swing.JButton(); 
        txt_SearchBar = new javax.swing.JTextField(); 
        btn_Push = new javax.swing.JButton(); 
        btn_Pop = new javax.swing.JButton(); 
        jPanel2 = new javax.swing.JPanel(); 
        lbl_Title = new javax.swing.JLabel(); 
        jLabel1 = new javax.swing.JLabel(); 
        jLabel2 = new javax.swing.JLabel(); 

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE); 
        jPanel1.setBackground(new java.awt.Color(255, 255, 255)); 

        lbl_bookTitle.setFont(new java.awt.Font("Century Gothic", 1, 13)); 
        lbl_bookTitle.setText("Book Title"); 
        tbl_displayTable.setModel(new javax.swing.table.DefaultTableModel( 
            new Object [][] {}, 
            new String [] { "ISBN", "Title", "Author", "Genre" } 
        )); 
        jScrollPane1.setViewportView(tbl_displayTable); 

        lbl_ISBN.setFont(new java.awt.Font("Century Gothic", 1, 13)); 
        lbl_ISBN.setText("ISBN No."); 
        lbl_Author.setFont(new java.awt.Font("Century Gothic", 1, 13)); 
        lbl_Author.setText("Author"); 
        lbl_Genre.setFont(new java.awt.Font("Century Gothic", 1, 13)); 
        lbl_Genre.setText("Genre"); 

        btn_Search.setText("Search"); 
        btn_Sort.setText("Sort by Title"); 
        btn_Undo.setText("Undo"); 
        btn_Push.setText("Push"); 
        btn_Pop.setText("Pop"); 

        jPanel2.setBackground(new java.awt.Color(127, 255, 212)); 
        lbl_Title.setFont(new java.awt.Font("High Tower Text", 1, 32)); 
        lbl_Title.setForeground(new java.awt.Color(255, 255, 255)); 
        lbl_Title.setText("BOOKIT"); 

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2); 
        jPanel2.setLayout(jPanel2Layout); 
        jPanel2Layout.setHorizontalGroup( 
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING) 
            .addGroup(jPanel2Layout.createSequentialGroup() 
                .addGap(68, 68, 68) 
                .addComponent(lbl_Title) 
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)) 
        ); 
        jPanel2Layout.setVerticalGroup( 
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING) 
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, 
                jPanel2Layout.createSequentialGroup() 
                .addContainerGap(33, Short.MAX_VALUE) 
                .addComponent(lbl_Title) 
                .addGap(20, 20, 20)) 
        ); 

        jLabel1.setFont(new java.awt.Font("Century Gothic", 1, 16)); 
        jLabel1.setText("Total number of Books:"); 
        jLabel2.setFont(new java.awt.Font("Century Gothic", 1, 16)); 
        jLabel2.setForeground(new java.awt.Color(153, 0, 0)); 
        jLabel2.setText("0"); 

        // Layout setup
        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1); 
        jPanel1.setLayout(jPanel1Layout); 
        jPanel1Layout.setHorizontalGroup( 
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING) 
            .addGroup(jPanel1Layout.createSequentialGroup() 
                .addGap(42, 42, 42) 
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING) 
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 659, Short.MAX_VALUE) 
                    .addGroup(jPanel1Layout.createSequentialGroup() 
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING) 
                            .addComponent(lbl_ISBN) 
                            .addComponent(lbl_bookTitle) 
                            .addComponent(lbl_Author) 
                            .addComponent(lbl_Genre)) 
                        .addGap(36, 36, 36) 
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false) 
                            .addComponent(txt_title) 
                            .addComponent(txt_ISBN) 
                            .addComponent(txt_Author) 
                            .addComponent(txt_Genre, javax.swing.GroupLayout.DEFAULT_SIZE, 217, javax.swing.GroupLayout.PREFERRED_SIZE)) 
                        .addGap(0, 0, Short.MAX_VALUE)) 
                    .addGroup(jPanel1Layout.createSequentialGroup() 
                        .addComponent(txt_SearchBar, javax.swing.GroupLayout.PREFERRED_SIZE, 265, javax.swing.GroupLayout.PREFERRED_SIZE) 
                        .addGap(18, 18, 18) 
                        .addComponent(btn_Search, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)) 
                    .addGroup(jPanel1Layout.createSequentialGroup() 
                        .addComponent(btn_Sort, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE) 
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED) 
                        .addComponent(btn_Undo, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)) 
                    .addGroup(jPanel1Layout.createSequentialGroup() 
                        .addComponent(btn_Push, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE) 
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED) 
                        .addComponent(btn_Pop, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)) 
                    .addGroup(jPanel1Layout.createSequentialGroup() 
                        .addComponent(jLabel1) 
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED) 
                        .addComponent(jLabel2) 
                        .addGap(0, 0, Short.MAX_VALUE))) 
                .addGap(42, 42, 42)) 
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, 
                javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE) 
        ); 
        jPanel1Layout.setVerticalGroup( 
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING) 
            .addGroup(jPanel1Layout.createSequentialGroup() 
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, 
                    javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE) 
                .addGap(20, 20, 20) 
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE) 
                    .addComponent(lbl_bookTitle) 
                    .addComponent(txt_title, javax.swing.GroupLayout.PREFERRED_SIZE, 
                        javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)) 
                .addGap(20, 20, 20) 
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE) 
                    .addComponent(lbl_ISBN) 
                    .addComponent(txt_ISBN, javax.swing.GroupLayout.PREFERRED_SIZE, 
                        javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)) 
                .addGap(20, 20, 20) 
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE) 
                    .addComponent(lbl_Author) 
                    .addComponent(txt_Author, javax.swing.GroupLayout.PREFERRED_SIZE, 
                        javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)) 
                .addGap(20, 20, 20) 
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE) 
                    .addComponent(lbl_Genre) 
                    .addComponent(txt_Genre, javax.swing.GroupLayout.PREFERRED_SIZE, 
                        javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)) 
                .addGap(29, 29, 29) 
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE) 
                    .addComponent(btn_Push) 
                    .addComponent(btn_Pop)) 
                .addGap(20, 20, 20) 
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE) 
                    .addComponent(btn_Sort) 
                    .addComponent(btn_Undo)) 
                .addGap(20, 20, 20) 
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE) 
                    .addComponent(btn_Search) 
                    .addComponent(txt_SearchBar, javax.swing.GroupLayout.PREFERRED_SIZE, 
                        javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)) 
                .addGap(20, 20, 20) 
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 264, javax.swing.GroupLayout.PREFERRED_SIZE) 
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 30, Short.MAX_VALUE) 
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE) 
                    .addComponent(jLabel1) 
                    .addComponent(jLabel2)) 
                .addGap(20, 20, 20)) 
        ); 
        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane()); 
        getContentPane().setLayout(layout); 
        layout.setHorizontalGroup( 
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING) 
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 
                javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE) 
        ); 
        layout.setVerticalGroup( 
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING) 
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 
                javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE) 
        ); 
        pack(); 
    } 

    private javax.swing.JButton btn_Search; 
    private javax.swing.JButton btn_Sort; 
    private javax.swing.JButton btn_Undo; 
    private javax.swing.JButton btn_Push; 
    private javax.swing.JButton btn_Pop; 
    private javax.swing.JLabel jLabel1; 
    private javax.swing.JLabel jLabel2; 
    private javax.swing.JPanel jPanel1; 
    private javax.swing.JPanel jPanel2; 
    private javax.swing.JScrollPane jScrollPane1; 
    private javax.swing.JLabel lbl_Author; 
    private javax.swing.JLabel lbl_Genre; 
    private javax.swing.JLabel lbl_ISBN; 
    private javax.swing.JLabel lbl_Title; 
    private javax.swing.JLabel lbl_bookTitle; 
    private javax.swing.JTable tbl_displayTable; 
    private javax.swing.JTextField txt_Author; 
    private javax.swing.JTextField txt_Genre; 
    private javax.swing.JTextField txt_ISBN; 
    private javax.swing.JTextField txt_SearchBar; 
    private javax.swing.JTextField txt_title; 

    public static void main(String[] args) { 
        try { 
            javax.swing.UIManager.setLookAndFeel(javax.swing.UIManager.getSystemLookAndFeelClassName()); 
        } catch (Exception e) { 
            e.printStackTrace(); 
        } 
        java.awt.EventQueue.invokeLater(new Runnable() { 
            public void run() { 
                new Librarian().setVisible(true); 
            } 
        }); 
    } 

}
